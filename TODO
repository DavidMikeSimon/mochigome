- For context of narrowing aggregations: cannot just consider join models that the main query passed through. That would prevent student attendance aggregation from working correctly when dividing it up among classes.
  - Really am probably going to need a generic graph-based solution to figure all this out. One way to make it easier: consider only belongs_to associations and ignore conditions, that *should* be everything needed to get anywhere it's possible to get.
- Do as few queries as possible to accomplish stuff; this also encourages app to rely on SQL's 'IN' syntax and magical grouping/joining abilities to make aggregation easier
- Replace all the TODOs and FIXMEs with whatever they're asking for (additional checks, use of ordered indifferent hashes instead of arrays of hashes, etc.)
